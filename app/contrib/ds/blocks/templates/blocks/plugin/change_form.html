{% extends "admin/cms/page/plugin/change_form.html" %}

{% block admin_change_form_document_ready %}
{{ block.super }}
<script>
["field-size", "field-direction", "field-wrap", "field-gap", "field-alignment"].forEach((name, i) => {
    $("." + name).addClass("hidden");
})

function changeLayout(value) {
  if (value === "grid") {
    $(".field-alignment").removeClass("hidden");
    $(".field-gap").removeClass("hidden");
    $(".field-direction").addClass("hidden");
    $(".field-wrap").addClass("hidden");
  } else if (value === "d-flex") {
    $(".field-alignment").removeClass("hidden");
    $(".field-gap").removeClass("hidden");
    $(".field-direction").removeClass("hidden");
    $(".field-wrap").removeClass("hidden");
  } else {
    $(".field-alignment").addClass("hidden");
    $(".field-gap").addClass("hidden");
    $(".field-direction").addClass("hidden");
    $(".field-wrap").addClass("hidden");
  }
}

function changeElement(value) {
  if (value === "container") {
    $(".field-size").removeClass("hidden");
  } else {
    $(".field-size").addClass("hidden");
  }
}

$('form [name="layout"]').on("change", function(evt) {
  changeLayout(evt.target.value);
});

$('form [name="element"]').on("change", function(evt) {
  changeElement(evt.target.value)
});

changeElement($('form [name="element"]').val());
changeLayout($('form [name="layout"]').val());
</script>
{% endblock %}