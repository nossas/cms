{% extends "votepeloclima/base.html" %}
{% load crispy_forms_filters %}

{% block navbar_actions %}
<a class="btn btn-outline-light" href="{% url 'oauth:logout' %}">Sair</a>
{% endblock %}

{% block content %}
<div class="container mx-auto py-5">
  <div class="d-flex justify-content-between">
    <div class="" style="width:538px;">      
      <h1>Olá {{ request.user.first_name }}</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam lacinia iaculis arcu, sed ornare risus congue nec.</p>
      <!-- Etapas -->
      <div class="mt-4">
        <div class="d-flex justify-content-between mb-1">
          <span>Status do cadastro</span>
          <div class="d-flex align-items-center">
            <i class="rounded-circle bg-secondary" style="width:15px;height:15px;"></i>
            <span class="ms-1">{{ candidature_flow.get_status_display }}</span>
          </div>
        </div>
        <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar bg-secondary" style="width:25%;"></div>
        </div>
      </div>
    </div>
    <div class="d-flex flex-column" style="--bs-gap:10px;width:245px;">
      <a class="btn btn-dark" href="#">Visualizar perfil</a>
      <a class="btn btn-dark" href="#">Compartilhar seu perfil</a>
      <a class="btn btn-dark" href="#">Editar informações</a>
    </div>
  </div>
  <hr />
  <div class="accordion" id="accordionCheckoutSteps">
    {% for checkout_step in checkout_steps %}
    <div class="accordion-item">
      <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{forloop.counter}}" aria-expanded="false" aria-controls="collapse{{forloop.counter}}">
          {% if checkout_step.form.Meta.title %}{{checkout_step.form.Meta.title}}{% else %}{{ checkout_step.name }}{% endif %}
        </button>
      </h2>
      <div id="collapse{{forloop.counter}}" class="accordion-collapse collapse" data-bs-parent="#accordionCheckoutSteps">
        <div class="accordion-body">
          {{ checkout_step.form|crispy }}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  <hr />
  <div>
    <h1>Outras ações</h1>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam lacinia iaculis arcu, sed ornare risus congue nec. Phasellus rhoncus, tortor in fermentum auctor, diam risus pulvinar nisi, ac ultrices nibh ipsum at lacus. Mauris varius metus in ante viverra faucibus. Vivamus fringilla metus urna, sit amet.</p>
  </div>
</div>
{% endblock %}
