{% load cms_tags %}

<header class="{{ instance.classes}}">
    <div class="grid">
        <div class="d-flex flex-column header-box-col">
            {% for plugin in instance.child_plugin_instances %}
                {% if plugin.plugin_type == 'BoxPlugin' %}
                    {% render_plugin plugin %}
                {% endif %}
            {% endfor %}
        </div>
        <div class="header-background-col">
            {% for plugin in instance.child_plugin_instances %}
                {% if plugin.plugin_type == 'PicturePlugin' %}
                    {% for url in picture_urls %}
                        <div class="header-background-img" style="background-image: url('{{ url }}');"></div>
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
</header>

{% block extrastyle %}
    <style>
        .header-box-col {
            align-items: end;
            grid-column: auto/span 12;
            grid-row: 2;
            justify-content: flex-end; 
            padding: 0 12px;
        }

        .header-background-col {
            grid-column: auto/span 12;
            margin-top: 60px;
        }

        .header-background-img {
            width: 100%;
        }

        .header-background-img {
            background-position-x: center;
            background-repeat: no-repeat;
            background-size: 100% 100%;
            height: 275px;
            width: 100%;
        }

        @media (min-width: 768px) {
            .header-box-col {
                grid-column: auto/span 5;
                grid-row: 1;
            }

            .header-background-col {
                grid-column: auto/span 7;
            }
        }

        @media (min-width: 992px) {
            .header-box-col {
                grid-column: 3/span 3;
                padding: 0;
            }

            .header-background-img {
                background-position-x: right;
                background-size: 80% 100%;
                height: 490px;
            }

            .header-background-col {
                grid-column: auto/span 7;
                margin-top: 0;
            }
        }
    </style>
{% endblock %}
